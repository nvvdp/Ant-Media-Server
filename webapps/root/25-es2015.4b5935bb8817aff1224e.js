(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{hjFC:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var i=n("LFg+"),l=(n("KeXy"),i.v.getComponent("MenuButton")),u=i.v.getComponent("Menu"),a=i.v.getComponent("Component"),s=i.v.dom;function o(t){var e=this;return new l(t,{title:t.localize("Quality"),name:"QualityButton",createItems:function(){return[]},createMenu:function(){var t,n=new u(e.player_,{menuButton:e});if(e.hideThreshold_=0,e.options_.title){var i=s.createEl("li",{className:"vjs-menu-title",innerHTML:(t=e.options_.title,"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)),tabIndex:-1}),l=new a(e.player_,{el:i});e.hideThreshold_+=1,n.addItem(l)}if(e.items=e.createItems(),e.items)for(var o=0;o<e.items.length;o++)n.addItem(e.items[o]);return n}})}var r=i.v.getComponent("MenuItem"),c={vjsIconClass:"vjs-icon-hd",displayCurrentQuality:!1,placementIndex:0},h=function(){function t(t,e){var n=this;this.player=t,this.config=i.v.obj.merge(c,e),t.ready((function(){n.player.addClass("vjs-quality-selector-hls"),n.player.qualityLevels&&(n.createQualityButton(),n.bindPlayerEvents())}))}var e=t.prototype;return e.getHls=function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).hls},e.bindPlayerEvents=function(){this.player.qualityLevels().on("addqualitylevel",this.onAddQualityLevel.bind(this))},e.createQualityButton=function(){var t=this.player;this._qualityButton=new o(t);var e=t.controlBar.children().length-2,n=t.controlBar.addChild(this._qualityButton,{componentClass:"qualitySelector"},this.config.placementIndex||e);if(n.addClass("vjs-quality-selector"),this.config.displayCurrentQuality)this.setButtonInnerText("auto");else{var i=" "+(this.config.vjsIconClass||"vjs-icon-hd");n.menuButton_.$(".vjs-icon-placeholder").className+=i}n.removeClass("vjs-hidden")},e.setButtonInnerText=function(t){this._qualityButton.menuButton_.$(".vjs-icon-placeholder").innerHTML=t},e.getQualityMenuItem=function(t){return function(t,e,n,i){var l=new r(t,{label:e.label,selectable:!0,selected:e.selected||!1});return l.item=e,l.qualityButton=n,l.plugin=i,l.handleClick=function(){for(var t=0;t<this.qualityButton.items.length;++t)this.qualityButton.items[t].selected(!1);this.plugin.setQuality(this.item.value),this.selected(!0)},l}(this.player,t,this._qualityButton,this)},e.onAddQualityLevel=function(){for(var t=this,e=this.player,n=e.qualityLevels().levels_||[],i=[],l=function(e){var l=n[e],u=l.width,a=l.height,s=u>a?a:u;if(!s)return"continue";if(!i.filter((function(t){return t.item&&t.item.value===s})).length){var o=t.getQualityMenuItem.call(t,{label:s+"p",value:s});i.push(o)}},u=0;u<n.length;++u)l(u);i.sort((function(t,e){return"object"!=typeof t||"object"!=typeof e||t.item.value<e.item.value?-1:t.item.value>e.item.value?1:0})),i.push(this.getQualityMenuItem.call(this,{label:e.localize("Auto"),value:"auto",selected:!0})),this._qualityButton&&(this._qualityButton.createItems=function(){return i},this._qualityButton.update())},e.setQuality=function(t){var e=this.player.qualityLevels();this._currentQuality=t,this.config.displayCurrentQuality&&this.setButtonInnerText("auto"===t?t:t+"p");for(var n=0;n<e.length;++n){var i=e[n],l=i.width,u=i.height;e[n].enabled=(l>u?u:l)===t||"auto"===t}this._qualityButton.unpressButton()},e.getCurrentQuality=function(){return this._currentQuality||"auto"},t}(),y=function(t){return function(t,e){var n=new h(t,e);return t.QualitySelectorHlsVjs=!0,n.defaultState={},n.VERSION="1.1.1",n}(this,i.v.obj.merge({},t))};i.v.registerPlugin("qualitySelectorHls",y)}}]);